<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Management - EFRO.AI Character Hub</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/menu2.0.css">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #1d1f21; /* Dark background */
            color: #f5f5f5;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #20232a;
            padding: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        main {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 20px;
        }

        .container {
            background-color: #2f3136; /* Dark card background */
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px; /* Limit width for larger screens */
            text-align: center;
            margin-bottom: 10px;
        }

        p {
            margin-top: 20px;
        }

        footer {
            background-color: #20232a;
            padding: 20px;
            text-align: center;
        }

        footer p {
            margin: 0;
        }

        a {
            color: #4285f4;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }
        .user-status {
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            text-align: center;
        }
        .logged-in {
            background-color: #e0f7fa;
            color: #00695c;
            border: 1px solid #4db6ac;
        }
        .logged-out {
            background-color: #ffebee;
            color: #c62828;
            border: 1px solid #ef5350;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar">
            <div class="left-content">
                <a href="/" class="logo"> <!-- Make the logo clickable -->
                <div class="logo">
                    <img src="logo.png" alt=" ">
                </div>
            </a>
            <a href="/" class="text">
                <div class="text">
                    <span class="letter letter-1">E</span>
                    <span class="letter letter-2">F</span>
                    <span class="letter letter-3">R</span>
                    <span class="letter letter-4">O</span>
                    <span class="letter letter-5">.</span>
                    <span class="letter letter-6">A</span>
                    <span class="letter letter-7">I</span>
                </div>
            </a>
            </div>
            <div class="right-content">
                <ul class="nav-links">
                    <!-- Characters with dropdown -->
                    <li class="dropdown">
                        <a href="index.html" class="dropbtn" onclick="toggleDropdown(event)">Characters</a>
                        <div class="dropdown-content">
                            <a href="index.html">Characters Hub</a>
                            <a href="editor.html">Upload Character</a>
                            <a href="mycharacters.html">My Characters</a>
                        </div>
                    </li>
        
                    <!-- Community with dropdown -->
                    <li class="dropdown">
                        <a href="rules.html" class="dropbtn" onclick="toggleDropdown(event)">Community</a>
                        <div class="dropdown-content">
                            <a href="rules.html">Rules</a>
                            <a href="join-our-team.html">Get Involved in the Fetish Scene</a>
                            <a href="/EFROTales/">Old Stories Page</a>
                        </div>
                    </li>
        
                      <!-- Account with dropdown -->
            <li class="dropdown">
                <a href="profile.html" class="dropbtn" onclick="toggleDropdown(event)" id="accountLink">Account</a>
                <div class="dropdown-content">
                    <a href="profile.html" id="profileLink">Profile</a>
                    <a href="mylikes.html">My Likes</a>
                    <a href="myaccount.html">Account Settings</a>
                    <a href="login.html">Login</a>
                    <a href="subscriptions.html" class="nav-btn">Subscriptions</a>
                </div>
            </li>
        
                    <!-- Help with dropdown -->
                    <li class="dropdown">
                        <a href="contact.html" class="dropbtn" onclick="toggleDropdown(event)">Help</a>
                        <div class="dropdown-content">
                            <a href="documentation.html">Documentation</a>
                            <a href="updates.html">Updates & Features</a>
                            <a href="contact.html">Contact</a>
                        </div>
                    </li>
        
                    <!-- Contribute Button -->
                    <li>
                        <a href="contribute.html" class="nav-btn">Contribute</a>
                    </li>
                </ul>     
        
                <!-- Search bar -->
                <input type="text" id="search-bar" placeholder="Search characters..." class="search-bar">
                <div id="login-status" class="login-status"></div>
        
                <!-- Hamburger menu for mobile view -->
                <div class="hamburger" onclick="toggleMenu()">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>  
            </div>
        </nav>
    <h1>Account Management</h1>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <h1>User Login Status</h1>
            <div id="user-status" class="user-status"></div> <!-- Element to display user login status -->
        </div>

        <br>
        <div class="container">
            <h2>Email Support</h2>
            <p>If you need assistance with your account, please reach out to our support team:</p>
            <p>Email: <a href="mailto:support@efroai.net">support@efroai.net</a></p>
            <p>More account management features are coming soon!</p>
        </div>

        <div class="account-settings">
            <h2>Account Settings - Manage Banned Tags</h2>
            
            <!-- List of currently banned tags -->
            <div>
              <h3>Currently Banned Tags:</h3>
              <ul id="banned-tags-list">
                <!-- Dynamically populated list of banned tags -->
              </ul>
            </div>
            
            <!-- Form to add a new banned tag -->
            <div>
              <h3>Ban a New Tag:</h3>
              <input type="text" id="new-tag" placeholder="Enter tag to ban" />
              <button id="ban-tag-button">Ban Tag</button>
            </div>
            <p>Does not work!</p>
            <p id="message"></p>
        </div>

           <!-- Profile Image Upload Section -->
    <h3>Upload Profile Image</h3>
    <form id="image-upload-form" enctype="multipart/form-data">
        <input type="file" id="profile-image" name="profile-image" accept="image/*" />
        <button type="submit" id="upload-image-button">Upload Image</button>
    </form>
    <div id="profile-image-container">
        <!-- Uploaded image preview will appear here -->
    </div>
    <script src="js/scripts/profileImageSettings.js"></script>

          <a href="https://efroai.net/some-useful-tools.html" class="nav-btn">Useful Tools / Troubleshooting</a>
          <script>
          // Example list of banned tags (this could be loaded dynamically from the server)
            let bannedTags = []; 

            // Update the list of banned tags on the page
            function updateBannedTags() {
                const bannedTagsList = document.getElementById("banned-tags-list");
                bannedTagsList.innerHTML = ''; // Clear current list

                bannedTags.forEach(tag => {
                    const listItem = document.createElement("li");
                    listItem.textContent = tag;

                    // Create a remove button for each tag
                    const removeButton = document.createElement("button");
                    removeButton.textContent = "Remove";
                    removeButton.classList.add("remove-tag-button");
                    
                    // Add event listener for removing the tag
                    removeButton.addEventListener("click", () => {
                        removeTag(tag);
                    });

                    // Append the remove button to the list item
                    listItem.appendChild(removeButton);
                    bannedTagsList.appendChild(listItem);
                });
            }

            // Function to remove a tag from the banned list
            function removeTag(tagToRemove) {
                const index = bannedTags.indexOf(tagToRemove);
                if (index > -1) {
                    bannedTags.splice(index, 1); // Remove the tag from the array
                    updateBannedTags(); // Re-render the banned tags list
                    document.getElementById("message").textContent = `Successfully removed the tag: ${tagToRemove}`;
                }
            }

            // Add a new tag to the banned list
            function banTag() {
                const newTag = document.getElementById("new-tag").value.trim();

                if (newTag && !bannedTags.includes(newTag)) {
                    bannedTags.push(newTag); // Add to the banned tags array
                    updateBannedTags(); // Re-render the banned tags list
                    document.getElementById("message").textContent = `Successfully banned the tag: ${newTag}`;
                    document.getElementById("new-tag").value = ''; // Clear input field
                } else if (bannedTags.includes(newTag)) {
                    document.getElementById("message").textContent = `Tag "${newTag}" is already banned.`;
                } else {
                    document.getElementById("message").textContent = "Please enter a valid tag.";
                }
            }

            // Event listener for the "Ban Tag" button
            document.getElementById("ban-tag-button").addEventListener("click", banTag);

            // Initialize the page with the current banned tags
            updateBannedTags();

          </script>
    </main>

    <!-- Footer -->
    <footer>
        <p>© 2024 Fetish AI Character Hub. All rights reserved.</p>
    </footer>
</body>
<script src="js/menu.js"></script>
<script>
    // Function to get a cookie by name
function getCookie(name) {
    const nameEQ = name + "=";
    const ca = document.cookie.split(';'); // Split cookies into array
    for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) === ' ') c = c.substring(1, c.length); // Trim space
        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length); // Return cookie value
    }
    return null; // Return null if cookie not found
}

// Get the userID cookie value
const userID = getCookie('userID');

// Display logged in user message
const userStatusDiv = document.getElementById('user-status');

if (userID) {
    userStatusDiv.classList.add('logged-in');
    userStatusDiv.innerText = `User logged in: ${userID}`; // Display logged in message
} else {
    userStatusDiv.classList.add('logged-out');
    userStatusDiv.innerText = 'No user logged in.'; // Display logged out message
}
</script>

<script>
    const socket = new WebSocket('wss://efroai.net'); // Update with your domain

    // Connection opened
    socket.addEventListener('open', (event) => {
        console.log('Connected to WebSocket server');
    });

    // Listen for messages
    socket.addEventListener('message', (event) => {
        console.log('Message from server:', event.data);
        // Handle ping or any other messages from the server
        if (event.data === 'ping') {
            // You can respond to pings if needed
            socket.send('pong'); // Example response
        }
    });

    // Connection closed
    socket.addEventListener('close', (event) => {
        console.log('Disconnected from WebSocket server');
    });
</script>

</html>
